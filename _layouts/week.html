<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "en" }}">

  {% include head.html %}

  <body>

    <nav class="navbar navbar-expand-lg fixed-top navbar-light bg-light">
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-content" aria-controls="navbar-content" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <a class="navbar-brand" href="/">
        <img class="navbar-peg" src="{{ site.baseurl }}/assets/img/peg_blue.svg" />
        MAS.712 - LCL
      </a>
      <div class="collapse navbar-collapse" id="navbar-content">
        <div class="navbar-nav mr-auto"><!-- Dummy element to force weeks dropdown to shift right --></div>
        <ul class="navbar-nav">
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbar-week-dropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Weeks
            </a>
            <div id="navbar-weeks-dropdown" class="dropdown-menu" aria-labelledby="navbar-week-dropdown">
              <a class="dropdown-item" href="/weeks/1-introduction">1 &mdash; Introduction</a>
              <a class="dropdown-item" href="/weeks/2-projects">2 &mdash; Projects</a>
              <a class="dropdown-item" href="/weeks/3-passion">3 &mdash; Passion</a>
              <a class="dropdown-item" href="/weeks/4-peers">4 &mdash; Peers</a>
              <a class="dropdown-item" href="/weeks/5-play">5 &mdash; Play</a>
              <a class="dropdown-item" href="/weeks/6-creative-society">6 &mdash; Creative Society</a>
            </div>
          </li>
        </ul>
      </div>
    </nav>

    <div id="background-pegs">
      <img class="background-peg" src="{{ site.baseurl }}/assets/img/peg_red.svg" />
    </div>

    <div class="container-fluid"">
      <div class="row justify-content-center page-content">
        <div class="col-8">
          <div class="jumbotron week-jumbotron">
            <h2 class="text-center">
              <img class="jumbotron-peg" src="{{ site.baseurl }}/assets/img/peg_blue.svg" />
              {{ page.title }}
              <img class="jumbotron-peg" src="{{ site.baseurl }}/assets/img/peg_blue.svg" />
            </h2>
          </div>
          <iframe id="google-doc-iframe" height="{{ page.contentHeight }}" class="google-doc-content" scrolling="no" srcdoc=""></iframe>
        </div>
      </div>

      {% include footer.html %}
    </div>

    

  <!-- Bootstrap -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  <script type="text/javascript">
    $.get("{{ page.googleDocUrl }}", function(html) {

      var contents = $('#google-doc-iframe').contents();
      contents.find('html').html(html);
      contents.find('a[href^="http://"]').attr("target", "_blank");
      contents.find('a[href^="https://"]').attr("target", "_blank");
    });
  </script>
  <script type="text/javascript">
    ;(function() {
      var seed = Math.floor(Math.random() * 10000);

      function randomFromSeed() {
          var x = Math.sin(seed++) * 10000;
          return Math.floor((x - Math.floor(x)) * 10000);
      }

      function generateBackgroundPegs() {
        var rows = 60;
        var columns = 60;

        // Set the grid rows and columns
        var gridContainer = $('#background-pegs');

        const backgroundPegsRatio = 0.18;

        // Generate pegs
        for (var j = 0; j < rows; ++j) {
          for (var i = 0; i < columns; ++i) {

            var shouldDrawPeg = Math.random() < backgroundPegsRatio;
            if (!shouldDrawPeg) {
              continue;
            }

            var colorVal = randomFromSeed() % 4;
            switch (colorVal) {
              case 0:
                gridContainer.append('<img style="top:' + (j * 49) + 'px; left:' + (i * 49) + 'px;" class="background-peg" src="../assets/img/peg_green.svg" />');
                break;
              case 1:
                gridContainer.append('<img style="top:' + (j * 49) + 'px; left:' + (i * 49) + 'px;" class="background-peg" src="../assets/img/peg_blue.svg" />');
                break;
              case 2:
                gridContainer.append('<img style="top:' + (j * 49) + 'px; left:' + (i * 49) + 'px;" class="background-peg" src="../assets/img/peg_red.svg" />');
                break;
              case 3:
                gridContainer.append('<img style="top:' + (j * 49) + 'px; left:' + (i * 49) + 'px;" class="background-peg" src="../assets/img/peg_yellow.svg" />');
                break;
            }
          }
        }

      }

      $(document).ready(generateBackgroundPegs);
    })();
  </script>
  </body>

</html>
